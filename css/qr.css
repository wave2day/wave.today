/* ===== Base / anti-callout ===== */
#qrWrap{
  height:100%;
  margin:0;
  background: transparent;
  -webkit-touch-callout:none;
  -webkit-user-select:none;
  user-select:none;
}
#wtOrb, #wtOrb * , #wtOverlay, #wtCard, #wtCard *{
  -webkit-touch-callout:none;
  -webkit-user-select:none;
  user-select:none;
}
#wtOrb img, .frontImg, #wtCard img{ pointer-events:none; }
#wtOrb.wt-dragging{ cursor:grabbing; opacity:1 !important; }
#wtOrb:not(.wt-dragging){ cursor:grab; }

/* ===== Orb (sticker) ===== */
#wtOrb{
  position:fixed;
  top:calc(10px + 96px + env(safe-area-inset-top));
  left:10px;
  width:86px;
  height:86px;
  z-index:999999;
  -webkit-tap-highlight-color:transparent;
  filter:drop-shadow(0 10px 22px rgba(0,0,0,.45));
  touch-action:pan-y;
}
@media (min-width:900px){
  #wtOrb{ width:110px; height:110px; top:16px; left:16px; }
}
#wtOrb img{
  width:100%;
  height:100%;
  object-fit:contain;
  display:block;
  opacity:.95;
  -webkit-user-drag:none;
}

/* ===== Overlay flip card (center) ===== */
#wtOverlay{
  position: fixed;
  inset: 0;
  display: none;           /* toggled by JS */
  place-items: center;
  z-index: 9999;
  padding: 16px;
  box-sizing: border-box;

  background: rgba(0,0,0,.22);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}
#wtOverlay.is-open{
  display:grid;
  opacity:1;
  pointer-events:auto;
}
#wtOverlay .backdrop{ position:absolute; inset:0; background:transparent; }

#wtCard{
  position: relative;
  width: min(70vw, 240px);  /* mobile-friendly size, centered */
  aspect-ratio: 1 / 1;
  display: grid;
  place-items: center;
}

#wtInner{
  position:absolute;
  inset:0;
  transform-style:preserve-3d;
  transition:transform 520ms cubic-bezier(.2,.8,.2,1);
}
#wtOverlay.is-open #wtInner{ transform:rotateY(180deg); }

.wtFace{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  backface-visibility:hidden;
  -webkit-backface-visibility:hidden;
}
.wtFront{ border-radius:22px; }
.wtFront .frontImg{
  width:56%;
  height:56%;
  border-radius:20px;
  display:block;
  filter:drop-shadow(0 18px 34px rgba(0,0,0,.42));
  opacity:.95;
}
.wtBack{ transform:rotateY(180deg); }

/* ===== Glass label (fits into card) ===== */
:root{
  --sqOuter: 360px;
  --innerRatio: .78;
  --sqR: 34px;
  --coreRk: 1.55;

  --glassClearA: rgba(255,255,255,.14);
  --glassClearB: rgba(255,255,255,.08);
  --glassMilkA:  rgba(255,255,255,.10);
  --glassMilkB:  rgba(255,255,255,.12);

  --glassRingThickness: 13px;
  --glassRimBlur: 1.05px;

  --topRimFade: 30%;
  --botRim1: rgba(255,255,255,.74);
  --botRim2: rgba(255,255,255,.30);

  --bleedA: .085;
  --bleedB: .040;

  --pressY: 3px;
  --pressTimeIn: 110ms;
  --pressTimeOut: 190ms;
}
.glassSquare{
/* ↓ méně do růžova, víc chladný tón (jemně do modra) */
    --rimTint: 170, 190, 255;   /* bylo 210,140,255 */
    --bleedX: 78%;
    --bleedY: 86%;

    --gap: calc(var(--sqOuter) * (1 - var(--innerRatio)) / 2);
    --coreR: calc(var(--sqR) - (var(--gap) * var(--coreRk)));

    width: var(--sqOuter);
    height: var(--sqOuter);
    border-radius: var(--sqR);
    position:relative;
    display:grid;
    place-items:center;
    isolation:isolate;

    background:
      radial-gradient(120% 140% at 50% 62%, var(--glassMilkA), transparent 62%),
      radial-gradient(120% 160% at 50% 92%, var(--glassMilkB), transparent 58%),
      radial-gradient(120% 140% at 28% 20%, var(--glassClearA), transparent 55%),
      radial-gradient(140% 160% at 70% 74%, var(--glassClearB), transparent 60%),
      rgba(255,255,255,.08);

    box-shadow:
      inset 0 18px 26px rgba(0,0,0,.24),
      inset 0 -22px 30px rgba(255,255,255,.22),
      0 26px 54px rgba(0,0,0,.20);

    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);

    transition: filter var(--pressTimeOut) ease;
}
.glassSquare::before{
content:"";
    position:absolute;
    inset: 12px;
    border-radius: calc(var(--sqR) - 6px);
    pointer-events:none;
    z-index:1;

    background:
      radial-gradient(70% 90% at 16% 18%,
        rgba(255,255,255,.42) 0%,
        rgba(255,255,255,.18) 35%,
        transparent 72%),
      radial-gradient(44% 60% at 26% 30%,
        rgba(255,255,255,.18) 0%,
        transparent 72%);

    filter: blur(1.35px);
    opacity:.95;
}
.glassSquare::after{
content:"";
    position:absolute;
    inset:-1px;
    border-radius: var(--sqR);
    pointer-events:none;
    z-index:2;

    background:
      radial-gradient(72% 120% at var(--bleedX) var(--bleedY),
        rgba(var(--rimTint), var(--bleedA)) 0%,
        rgba(var(--rimTint), var(--bleedB)) 28%,
        transparent 68%),

      conic-gradient(from 210deg,
        transparent 0 18%,
        rgba(var(--rimTint), .09) 22%,
        transparent 36%,
        rgba(var(--rimTint), .045) 46%,
        transparent 62%,
        rgba(var(--rimTint), .032) 70%,
        transparent 100%),

      radial-gradient(140% 120% at 50% 120%,
        var(--botRim1) 0%,
        var(--botRim2) 22%,
        transparent 52%),

      radial-gradient(170% 120% at 50% -38%,
        rgba(0,0,0,.30) 0%,
        rgba(0,0,0,.12) 14%,
        transparent var(--topRimFade));

    -webkit-mask:
      linear-gradient(#000 0 0) content-box,
      linear-gradient(#000 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;

    padding: var(--glassRingThickness);
    filter: blur(var(--glassRimBlur));
    opacity:.95;
}

.qr_pressGlow{
position:absolute;
    inset:-28px;
    border-radius: calc(var(--sqR) + 14px);
    pointer-events:none;
    opacity:0;
    filter: blur(12px);
    transform: scale(.995);
    transition: opacity var(--pressTimeOut) ease, transform var(--pressTimeOut) ease;
    z-index:0;

    background:
      radial-gradient(86% 86% at 70% 74%,
        rgba(255,255,255,.18) 0%,
        rgba(255,255,255,.10) 30%,
        transparent 65%),
      radial-gradient(120% 100% at 50% 120%,
        rgba(255,255,255,.16) 0%,
        transparent 55%);
}

.qr_coreSquare{
width:  calc(var(--sqOuter) - (2 * var(--gap)));
    height: calc(var(--sqOuter) - (2 * var(--gap)));
    border-radius: max(14px, var(--coreR));

    position:relative;
    z-index:3;
    border:0;
    padding:0;
    cursor:pointer;

    outline:none !important;
    -webkit-tap-highlight-color: transparent;
    user-select:none;

    /* ↓ BÍLÝ PLAST (jen barvy) */
    --c1:#ffffff;
    --c2:#f1f1f6;
    --c3:#d9d9e2;

    /* stejné vrstvy jako u fialové (jen budou vypadat “čistě”) */
    background:
      radial-gradient(120% 140% at 28% 18%, rgba(255,255,255,.20), transparent 55%),
      linear-gradient(180deg, var(--c1), var(--c2) 55%, var(--c3));

    /* pro bílý plast je potřeba trochu víc “hmoty” */
    box-shadow:
      0 18px 26px rgba(0,0,0,.18),
      inset 0 16px 22px rgba(0,0,0,.16),
      inset 0 -14px 20px rgba(255,255,255,.18),
      inset 0 0 0 1px rgba(0,0,0,.16);

    transform: translateY(0);
    transition:
      transform var(--pressTimeOut) cubic-bezier(.2,.8,.2,1),
      box-shadow var(--pressTimeOut) ease,
      filter var(--pressTimeOut) ease;
}
.qr_coreSquare::before{
content:"";
    position:absolute;
    inset:0;
    border-radius: inherit;
    pointer-events:none;
    background:
      radial-gradient(120% 140% at 50% 50%,
        transparent 60%,
        rgba(0,0,0,.32) 100%);
    mix-blend-mode: soft-light;
    opacity:.96;
}
.qr_coreSquare::after{
content:"";
    position:absolute;
    inset:-1px;
    border-radius: inherit;
    pointer-events:none;

    background:
      radial-gradient(140% 120% at 50% 120%,
        rgba(255,255,255,.70) 0%,
        rgba(255,255,255,.30) 26%,
        transparent 56%),
      radial-gradient(170% 120% at 50% -38%,
        rgba(0,0,0,.34) 0%,
        rgba(0,0,0,.14) 16%,
        transparent 34%);

    -webkit-mask:
      linear-gradient(#000 0 0) content-box,
      linear-gradient(#000 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;

    padding: 6px;
    filter: blur(.78px);
    opacity:.95;
    mix-blend-mode: normal;
}

.qr_coreSquare:hover{
transform: translateY(-1px);
    box-shadow:
      0 22px 30px rgba(0,0,0,.20),
      inset 0 14px 20px rgba(0,0,0,.14),
      inset 0 -14px 20px rgba(255,255,255,.18),
      inset 0 0 0 1px rgba(0,0,0,.16);
}
.glassSquare:has(.qr_coreSquare:active){
filter: brightness(.985);
    transition: filter var(--pressTimeIn) ease;
}
.glassSquare:has(.qr_coreSquare:active) .qr_pressGlow{
opacity:1;
    transform: scale(1.01);
    transition: opacity var(--pressTimeIn) ease, transform var(--pressTimeIn) ease;
}
.qr_coreSquare:active{
transform: translateY(var(--pressY));
    transition:
      transform var(--pressTimeIn) cubic-bezier(.2,.8,.2,1),
      box-shadow var(--pressTimeIn) ease,
      filter var(--pressTimeIn) ease;
    box-shadow:
      0 10px 18px rgba(0,0,0,.16),
      inset 0 20px 26px rgba(0,0,0,.20),
      inset 0 -10px 16px rgba(255,255,255,.12),
      inset 0 0 0 1px rgba(0,0,0,.16);
    filter: brightness(.995) saturate(.98);
}

.wtOverlay--open{
  display: grid !important;
}

.qrWrap{
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
}

.qrWrap .qrSvg{
  width: 88%;
  height: 88%;
  display: block;
}
