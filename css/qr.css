/* ===== QR (overlay + label) — full file ===== */

/* ===== Vars (můžeš jemně ladit) ===== */
:root{
  /* label sizing */
  --sqOuter: 88px;          /* vnější čtverec skla */
  --innerRatio: .78;        /* poměr bílého jádra */
  --sqR: 22px;              /* radius skla */
  --coreRk: .88;            /* korekce radiusu jádra */

  /* glass */
  --glassClearA: rgba(255,255,255,.14);
  --glassClearB: rgba(255,255,255,.08);
  --glassMilkA:  rgba(255,255,255,.10);
  --glassMilkB:  rgba(255,255,255,.12);

  /* rim tint */
  --rimTint: 170,190,255;
}

/* ===== Overlay (centering) ===== */
#wtOverlay{
  position: fixed;
  inset: 0;
  display: none;            /* JS zapíná */
  place-items: center;      /* centering */
  z-index: 9999;

  padding: 16px;
  box-sizing: border-box;

  background: rgba(0,0,0,.22);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

/* ===== Card (mobile size + center) ===== */
#wtCard{
  position: relative;
  width: min(70vw, 240px);  /* MOBIL: menší + uprostřed */
  aspect-ratio: 1 / 1;

  display: grid;
  place-items: center;
}

/* ===== GLASS LABEL (fits into card) ===== */
.glassSquare{
  --gap: calc(var(--sqOuter) * (1 - var(--innerRatio)) / 2);
  --coreR: calc(var(--sqR) - (var(--gap) * var(--coreRk)));
  --bleedX: 78%;
  --bleedY: 86%;

  width: var(--sqOuter);
  height: var(--sqOuter);
  border-radius: var(--sqR);

  position: relative;
  display: grid;
  place-items: center;
  isolation: isolate;

  background:
    radial-gradient(120% 140% at 50% 62%, var(--glassMilkA), transparent 62%),
    radial-gradient(120% 160% at 50% 92%, var(--glassMilkB), transparent 58%),
    radial-gradient(120% 140% at 28% 20%, var(--glassClearA), transparent 55%),
    radial-gradient(140% 160% at 70% 74%, var(--glassClearB), transparent 60%),
    rgba(255,255,255,.08);

  box-shadow:
    inset 0 18px 26px rgba(0,0,0,.24),
    inset 0 -22px 30px rgba(255,255,255,.22),
    0 26px 54px rgba(0,0,0,.20);

  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);

  transition: filter 190ms ease;
}

.glassSquare::before{
  content:"";
  position:absolute;
  inset: 10px;
  border-radius: calc(var(--sqR) - 6px);
  pointer-events:none;
  z-index: 1;

  background:
    radial-gradient(75% 60% at 18% 22%,
      rgba(255,255,255,.42) 0%,
      rgba(255,255,255,.18) 35%,
      transparent 72%),
    radial-gradient(55% 45% at 28% 32%,
      rgba(255,255,255,.18) 0%,
      transparent 72%);

  filter: blur(1.35px);
  opacity: .95;
}

.glassSquare::after{
  content:"";
  position:absolute;
  inset:-1px;
  border-radius: var(--sqR);
  pointer-events:none;
  z-index: 2;

  background:
    radial-gradient(72% 60% at var(--bleedX) var(--bleedY),
      rgba(var(--rimTint), .14) 0%,
      rgba(var(--rimTint), .07) 28%,
      transparent 68%),
    conic-gradient(from 210deg,
      transparent 0 18%,
      rgba(var(--rimTint), .12) 22%,
      transparent 36%,
      rgba(var(--rimTint), .06) 46%,
      transparent 62%,
      rgba(var(--rimTint), .045) 70%,
      transparent 100%);

  filter: blur(1.05px);
  opacity: .95;
}

/* ===== Press glow ===== */
.qr_pressGlow{
  position:absolute;
  inset:-22px;
  border-radius: var(--sqR);
  pointer-events:none;
  opacity:0;
  filter: blur(10px);
  transition: opacity 190ms ease, transform 190ms ease;
  transform: scale(0.995);
  z-index: 0;

  background:
    radial-gradient(80% 80% at 70% 70%,
      rgba(var(--rimTint), .18) 0%,
      rgba(var(--rimTint), .10) 26%,
      transparent 62%),
    radial-gradient(100% 90% at 50% 110%,
      rgba(255,255,255,.20) 0%,
      transparent 55%);
}

/* ===== White core square ===== */
.qr_coreSquare{
  --cw: calc(var(--sqOuter) * var(--innerRatio));
  --ch: calc(var(--sqOuter) * var(--innerRatio));
  --cr: max(14px, var(--coreR));

  width: var(--cw);
  height: var(--ch);
  border-radius: var(--cr);

  position:relative;
  z-index:3;
  border:0;
  padding:0;

  cursor:pointer;
  outline: none !important;
  -webkit-tap-highlight-color: transparent;
  user-select:none;

  display:grid;
  place-items:center;

  background:
    radial-gradient(120% 140% at 28% 18%, rgba(255,255,255,.20), transparent 55%),
    linear-gradient(180deg, #ffffff, #f1f1f6 55%, #d9d9e2);

  box-shadow:
    0 18px 26px rgba(0,0,0,.18),
    inset 0 16px 22px rgba(0,0,0,.16),
    inset 0 -14px 20px rgba(255,255,255,.18),
    inset 0 0 0 1px rgba(0,0,0,.16);

  transform: translateY(0);
  transition: transform 190ms ease, box-shadow 190ms ease, filter 190ms ease;
}

.qr_coreSquare::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius: inherit;
  pointer-events:none;

  background:
    radial-gradient(120% 120% at 50% 50%,
      transparent 62%,
      rgba(0,0,0,.26) 100%);
  mix-blend-mode: soft-light;
  opacity:.95;
}

.qr_coreSquare::after{
  content:"";
  position:absolute;
  inset:-1px;
  border-radius: inherit;
  pointer-events:none;

  background:
    radial-gradient(140% 120% at 50% 120%,
      rgba(255,255,255,.52) 0%,
      rgba(255,255,255,.20) 24%,
      transparent 52%),
    radial-gradient(170% 120% at 50% -38%,
      rgba(0,0,0,.30) 0%,
      rgba(0,0,0,.12) 14%,
      transparent 30%);

  filter: blur(.78px);
  opacity:.95;
  mix-blend-mode: screen;
}

/* ===== Press behaviour ===== */
.glassSquare:has(.qr_coreSquare:active){
  filter: brightness(.985);
  transition: filter 110ms ease;
}
.glassSquare:has(.qr_coreSquare:active) .qr_pressGlow{
  opacity:1;
  transform: scale(1.01);
  transition: opacity 110ms ease, transform 110ms ease;
}
.qr_coreSquare:active{
  transform: translateY(3px);
  box-shadow:
    0 10px 18px rgba(0,0,0,.16),
    inset 0 20px 26px rgba(0,0,0,.18),
    inset 0 -10px 16px rgba(255,255,255,.10);
  filter: brightness(.99) saturate(.98);
}

/* ===== QR SVG sizing ===== */
.qrWrap{
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
}
.qrWrap .qrSvg{
  width: 88%;
  height: 88%;
  display: block;
}
